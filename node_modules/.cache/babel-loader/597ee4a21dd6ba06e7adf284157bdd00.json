{"ast":null,"code":"import { extendObservable } from 'mobx';\n/*\n*   UserStore\n*/\n\nclass UserStore {\n  isLoggedIn() {\n    if (!UserStore.authToken) {\n      return false;\n    }\n\n    return true;\n  }\n\n  logout() {\n    window.localStorage.removeItem('userdata');\n    UserStore.authToken = \"\";\n    UserStore.permissionLevel = 0;\n  }\n\n  login(permission_level, token) {\n    UserStore.authToken = token;\n    UserStore.permissionLevel = permission_level;\n    let userdata = {\n      token: token,\n      permission_level: permission_level\n    };\n    window.localStorage.setItem('userdata', JSON.stringify(userdata));\n  }\n\n  constructor() {\n    let token = '';\n    let permission_level = 0;\n    const userdata = window.localStorage.getItem('userdata');\n\n    if (userdata !== null) {\n      ({\n        token,\n        permission_level\n      } = JSON.parse(userdata));\n    }\n\n    UserStore.authToken = token;\n    UserStore.permissionLevel = permission_level;\n    extendObservable(this, {\n      authToken: token,\n      permissionLevel: permission_level\n    });\n  }\n\n}\n\nexport default new UserStore();","map":{"version":3,"sources":["C:/Users/macie/Desktop/AutoRent-client-main/src/components/Stores/UserStore.js"],"names":["extendObservable","UserStore","isLoggedIn","authToken","logout","window","localStorage","removeItem","permissionLevel","login","permission_level","token","userdata","setItem","JSON","stringify","constructor","getItem","parse"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,MAAjC;AACA;AACA;AACA;;AACA,MAAMC,SAAN,CAAgB;AACZC,EAAAA,UAAU,GAAG;AACT,QAAI,CAACD,SAAS,CAACE,SAAf,EAA0B;AACtB,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACLC,IAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B;AACAN,IAAAA,SAAS,CAACE,SAAV,GAAsB,EAAtB;AACAF,IAAAA,SAAS,CAACO,eAAV,GAA4B,CAA5B;AACH;;AAEDC,EAAAA,KAAK,CAACC,gBAAD,EAAmBC,KAAnB,EAAyB;AAC1BV,IAAAA,SAAS,CAACE,SAAV,GAAsBQ,KAAtB;AACAV,IAAAA,SAAS,CAACO,eAAV,GAA4BE,gBAA5B;AAEA,QAAIE,QAAQ,GAAG;AACXD,MAAAA,KAAK,EAAEA,KADI;AAEXD,MAAAA,gBAAgB,EAAEA;AAFP,KAAf;AAKAL,IAAAA,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,UAA5B,EAAwCC,IAAI,CAACC,SAAL,CAAeH,QAAf,CAAxC;AACH;;AAEDI,EAAAA,WAAW,GAAG;AACV,QAAIL,KAAK,GAAG,EAAZ;AACA,QAAID,gBAAgB,GAAG,CAAvB;AAEA,UAAME,QAAQ,GAAGP,MAAM,CAACC,YAAP,CAAoBW,OAApB,CAA4B,UAA5B,CAAjB;;AACA,QAAIL,QAAQ,KAAK,IAAjB,EAAuB;AACnB,OAAC;AAACD,QAAAA,KAAD;AAAQD,QAAAA;AAAR,UAA4BI,IAAI,CAACI,KAAL,CAAWN,QAAX,CAA7B;AACH;;AAEDX,IAAAA,SAAS,CAACE,SAAV,GAAsBQ,KAAtB;AACAV,IAAAA,SAAS,CAACO,eAAV,GAA4BE,gBAA5B;AAEAV,IAAAA,gBAAgB,CAAC,IAAD,EAAO;AACnBG,MAAAA,SAAS,EAAEQ,KADQ;AAEnBH,MAAAA,eAAe,EAAEE;AAFE,KAAP,CAAhB;AAIH;;AA1CW;;AA4ChB,eAAe,IAAIT,SAAJ,EAAf","sourcesContent":["import { extendObservable } from 'mobx';\n/*\n*   UserStore\n*/\nclass UserStore {\n    isLoggedIn() {\n        if (!UserStore.authToken) {\n            return false;\n        }\n        return true;\n    }\n    \n    logout() {\n        window.localStorage.removeItem('userdata');\n        UserStore.authToken = \"\"\n        UserStore.permissionLevel = 0\n    }\n\n    login(permission_level, token){\n        UserStore.authToken = token\n        UserStore.permissionLevel = permission_level\n\n        let userdata = {\n            token: token,\n            permission_level: permission_level\n        }\n\n        window.localStorage.setItem('userdata', JSON.stringify(userdata));\n    }\n    \n    constructor() {\n        let token = '';\n        let permission_level = 0;\n\n        const userdata = window.localStorage.getItem('userdata');\n        if (userdata !== null) {\n            ({token, permission_level} = JSON.parse(userdata));\n        }\n\n        UserStore.authToken = token\n        UserStore.permissionLevel = permission_level\n\n        extendObservable(this, {\n            authToken: token,\n            permissionLevel: permission_level\n        })\n    }\n}\nexport default new UserStore();"]},"metadata":{},"sourceType":"module"}