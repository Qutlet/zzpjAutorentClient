{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\macie\\\\Desktop\\\\zzpjAutorentClient\\\\src\\\\context.js\";\nimport React, { Component } from 'react';\nimport { storeProducts, detailProduct } from './data';\nconst ProductContext = /*#__PURE__*/React.createContext(); //Provider\n//Consumer\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      detailProduct: detailProduct,\n      favourites: [],\n      modalOpen: false,\n      modalProdact: detailProduct,\n      favSubTotal: 0,\n      favTax: 0,\n      favTotal: 0\n    };\n\n    this.setProducts = () => {\n      let tempProducts = [];\n      storeProducts.forEach(item => {\n        const singleItem = { ...item\n        };\n        tempProducts = [...tempProducts, singleItem];\n      });\n      this.setState(() => {\n        return {\n          products: tempProducts\n        };\n      });\n    };\n\n    this.getItem = id => {\n      const product = this.state.products.find(item => item.id === id);\n      return product;\n    };\n\n    this.handleDetail = id => {\n      const product = this.getItem(id);\n      this.setState(() => {\n        return {\n          detailProduct: product\n        };\n      });\n    };\n\n    this.addToFavourite = (obj, offid) => {\n      obj.inFavorites = true;\n      obj.count1 = 1;\n      const price = obj.price;\n      obj.total = price;\n      obj.offid = offid;\n      this.state.favourites.push(obj);\n    };\n\n    this.openModal = obj => {\n      const product = obj;\n      this.setState(() => {\n        return {\n          modalProdact: product,\n          modalOpen: true\n        };\n      }, () => {\n        this.addTotals();\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState(() => {\n        return {\n          modalOpen: false\n        };\n      });\n    };\n\n    this.increment = id => {\n      let tempFav = [...this.state.favourites];\n      const selectedCar = tempFav.find(item => item.id === id);\n      const index = tempFav.indexOf(selectedCar);\n      const product = tempFav[index];\n      product.count1 = product.count1 + 1;\n      product.total = product.count1 * product.price;\n      this.setState(() => {\n        return {\n          favourites: [...tempFav]\n        };\n      }, () => {\n        this.addTotals();\n      });\n    };\n\n    this.decrement = id => {\n      let tempFav = [...this.state.favourites];\n      const selectedCar = tempFav.find(item => item.id === id);\n      const index = tempFav.indexOf(selectedCar);\n      const product = tempFav[index];\n      product.count1 = product.count1 - 1;\n\n      if (product.count1 === 0) {\n        this.removeCar(id);\n      } else {\n        product.total = product.count1 * product.price;\n        this.setState(() => {\n          return {\n            favourites: [...tempFav]\n          };\n        }, () => {\n          this.addTotals();\n        });\n      }\n    };\n\n    this.removeCar = obj => {\n      let tempProducts = this.state.products;\n      let tempFav = this.state.favourites;\n      tempFav = tempFav.filter(function (el) {\n        return el != obj;\n      });\n      obj.inFavorites = false;\n      obj.count1 = 0;\n      obj.total = 0;\n      this.setState(() => {\n        return {\n          favourites: tempFav,\n          products: tempProducts\n        };\n      }, () => {\n        this.addTotals();\n      });\n    };\n\n    this.clearFav = id => {\n      this.setState(() => {\n        return {\n          favourites: []\n        };\n      }, () => {\n        this.setProducts();\n        this.addTotals();\n      });\n    };\n\n    this.addTotals = () => {\n      let subTotal = 0;\n      this.state.favourites.map(item => subTotal += item.total);\n      const tempTax = subTotal * 0.07;\n      const tax = parseFloat(tempTax.toFixed(2));\n      const total = subTotal + tax;\n      this.setState(() => {\n        return {\n          favSubTotal: subTotal,\n          favTax: tax,\n          favTotal: total\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setProducts();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n      value: { ...this.state,\n        handleDetail: this.handleDetail,\n        addToFavourite: this.addToFavourite,\n        openModal: this.openModal,\n        closeModal: this.closeModal,\n        increment: this.increment,\n        decrement: this.decrement,\n        removeCar: this.removeCar,\n        clearFav: this.clearFav\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };","map":{"version":3,"sources":["C:/Users/macie/Desktop/zzpjAutorentClient/src/context.js"],"names":["React","Component","storeProducts","detailProduct","ProductContext","createContext","ProductProvider","state","products","favourites","modalOpen","modalProdact","favSubTotal","favTax","favTotal","setProducts","tempProducts","forEach","item","singleItem","setState","getItem","id","product","find","handleDetail","addToFavourite","obj","offid","inFavorites","count1","price","total","push","openModal","addTotals","closeModal","increment","tempFav","selectedCar","index","indexOf","decrement","removeCar","filter","el","clearFav","subTotal","map","tempTax","tax","parseFloat","toFixed","componentDidMount","render","props","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { storeProducts, detailProduct } from './data';\n\nconst ProductContext = React.createContext();\n//Provider\n//Consumer\n\n\nclass ProductProvider extends Component {\n    state = {\n        products: [],\n        detailProduct: detailProduct,\n        favourites: [],\n        modalOpen: false,\n        modalProdact: detailProduct,\n        favSubTotal: 0,\n        favTax: 0,\n        favTotal: 0,\n    }\n    componentDidMount() {\n        this.setProducts();\n    }\n    setProducts = () => {\n        let tempProducts = [];\n        storeProducts.forEach(item => {\n            const singleItem = { ...item };\n            tempProducts = [...tempProducts, singleItem];\n\n        })\n        this.setState(() => {\n            return { products: tempProducts }\n        })\n    }\n\n    getItem = (id) => {\n        const product = this.state.products.find(item => item.id === id)\n        return product;\n    }\n\n    handleDetail = (id) => {\n        const product = this.getItem(id);\n        this.setState(() => {\n            return { detailProduct: product };\n        })\n    }\n    addToFavourite = (obj, offid) => {\n        obj.inFavorites = true;\n        obj.count1 = 1;\n        const price = obj.price;\n        obj.total = price;\n        obj.offid = offid;\n        this.state.favourites.push(obj)\n     }\n     openModal = (obj) => {\n        const product = obj;\n        this.setState(() => {\n            return { modalProdact: product, modalOpen: true }\n        },\n            () => {\n                this.addTotals();\n            });\n    }\n    closeModal = () => {\n        this.setState(() => {\n            return { modalOpen: false }\n        });\n    }\n    increment = (id) => {\n        let tempFav = [...this.state.favourites]\n        const selectedCar = tempFav.find(item => item.id === id)\n\n        const index = tempFav.indexOf(selectedCar)\n        const product = tempFav[index];\n\n        product.count1 = product.count1 + 1\n        product.total = product.count1 * product.price\n\n        this.setState(() => {\n            return {\n                favourites: [...tempFav]\n            }\n        }, () => {\n            this.addTotals()\n        })\n    }\n    decrement = (id) => {\n        let tempFav = [...this.state.favourites]\n        const selectedCar = tempFav.find(item => item.id === id)\n\n        const index = tempFav.indexOf(selectedCar)\n        const product = tempFav[index];\n\n        product.count1 = product.count1 - 1\n        if (product.count1 === 0) {\n            this.removeCar(id)\n        }\n        else {\n            product.total = product.count1 * product.price\n            this.setState(() => {\n                return {\n                    favourites: [...tempFav]\n                }\n            }, () => {\n                this.addTotals()\n            })\n        }\n    }\n    removeCar = (obj) => {\n        let tempProducts = this.state.products;\n        let tempFav = this.state.favourites\n\n        tempFav = tempFav.filter(function(el) {return el != obj});\n\n        \n        obj.inFavorites = false;\n        obj.count1 = 0\n        obj.total = 0\n        this.setState(() => {\n            return {\n                favourites: tempFav,\n                products: tempProducts\n            }\n        }, () => {\n            this.addTotals()\n        })\n    }\n    clearFav = (id) => {\n        this.setState(() => {\n            return { favourites: [] }\n        }, () => {\n            this.setProducts();\n            this.addTotals();\n        })\n    }\n    addTotals = () => {\n        let subTotal = 0\n        this.state.favourites.map(item => (subTotal += item.total))\n        const tempTax = subTotal * 0.07\n        const tax = parseFloat(tempTax.toFixed(2))\n        const total = subTotal + tax\n        this.setState(() => {\n            return {\n                favSubTotal: subTotal,\n                favTax: tax,\n                favTotal: total,\n\n            }\n        })\n    }\n    render() {\n        return (\n            <ProductContext.Provider value={{\n                ...this.state,\n                handleDetail: this.handleDetail,\n                addToFavourite: this.addToFavourite,\n                openModal: this.openModal,\n                closeModal: this.closeModal,\n                increment: this.increment,\n                decrement: this.decrement,\n                removeCar: this.removeCar,\n                clearFav: this.clearFav,\n            }}\n            >\n                {this.props.children}\n            </ProductContext.Provider>\n        );\n    }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer };"]},"metadata":{},"sourceType":"module"}